# ------------------变量，作用域和内存问题--------------- #

<p id="title"></p>

## 目录 ##

:arrow_down:<a href="#a1">1.基本类型和引用类型的值</a>

<p id="a1"></p>

## 	:hourglass:基本类型和引用类型的值 ## 

:arrow_double_up:<a href = "#title">返回目录</a>

ECMAScript变量可能包含两种不同的数据类型的值：基本类型值和引用类型值。
   * 基本类型值是指的Number，String,Boolean,Undefined,Null这5中基本类型的值。
   
   * 引用类型值是保存在内存中的对象，Js不允许直接访问内存中的位置，也就是不能直接操作对象的内存空间。
   
### :dart:动态属性 ###

定义基本类型值与引用类型一致，但是对于引用类型的值，我们可以为其添加属性与方法，也可以改变和删除其属性，如下：

```JavaScript
var person = new Object();

person.name = "Lumnca";

alert(person.name);
```

如上操作会弹出Lumnca这个属性值，如果这个对象person不被销毁，它将一直存在，但是我们不能为基本类型添加属性，即使这样不会报错：

```JavaScript
var name = "Lumnca";
name.age = 19;
alert(name.age);
```

这样就会弹出一个undefined未定义的值，这说明只能给引用类型值动态地添加属性。

### :dart:复制变量值 ###

除了上面的动态属性不一样以外，在变量复制上也是不一样的，我们先来看基本类型的变量复制：

```JavaScript
var a = 5;
var b = a;

a = 7;
alert(a);
alert(b);
```

如上a初始化为5，又定义了一个b初始化为a，然后改变a的值，最后输出a=7，b=5，可见两个并没有关系，修改a的值不会对b有影响，也就是说基本类型的值只是复制了变量所对应的值，并不是复制了一个一体的变量引用，当我们再看看引用类型的复制，不一样的是，复制的值其实就是一个副本，也就是一个指针，而这个指针指向的就是存储的堆中的对象，复制操作结束后两个变量实际上指向的都是同一个对象，对其中一个修改会改变另一个的值，如下：

```JavaScript
var obj1 = new Object();
obj1.age = 5;

var obj2 = obj1;
obj1.age = 7;

alert(obj1.age);
alert(obj2.age);
```

最后弹出的都是7，说明引用类型复制其本质上就是对一个变量就行重命名，两个所指的均是同一个对象。

### :dart:传递参数 ###

ECMAScript中所有函数的参数都是按值传递，也就是说和其他语言一样，函数的参数如果不是引用类型，那么在函数里面对参数修改没有任何意义。如下：

```JavaScript
function add(num){
   num +=10;
   return num;
}

var a = 5;

var b = add(a);

alert(a);
alert(b);
```

  弹出的值发现a还是5，而b才是15，这是由于参数只是一个基本类型的值复制，并不是引用类型的复制，所以函数里面对参数的修改是不起作用的。
























